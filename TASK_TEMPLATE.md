# תבנית משימה (Development Task Template)

> שכפל/י את הקובץ, שנה/י שם, ומלא/י. כל סעיף הוא צ׳ק-ליסט מחייב. מיועד למשימות פיתוח קוד.

## שם המשימה / Title

- [ ] כותרת ברורה ופעילה (בגוף ציווי)
- [ ] תיאור קצר (שורה-שתיים)
- [ ] קישור לאישוש/Issue/Spec רלוונטי

## הגדרת מטרה (Objective)

- [ ] התוצאה הרצויה (מה נמסר)
- [ ] למה עכשיו (ערך עסקי/UX/טכני)
- [ ] מדדי הצלחה מדידים (KPIs)

## רקע והקשר (Background)

- [ ] קישורים/PRs קודמים
- [ ] מגבלות/הנחות יסוד
- [ ] השפעות על חלקים נוספים במערכת

## תחום המשימה (Scope)

- [ ] מה נכנס (נקודות ספציפיות)
- [ ] מה לא נכנס (Out of Scope)

## משימות קוד לביצוע (Dev To‑Dos)

- [ ] …
- [ ] …
- [ ] …

## תכנון וארכיטקטורה (Approach & Tech)

- [ ] תיאור פתרון ברמה גבוהה
- [ ] שינויים ב‑API/Contracts מתועדים
- [ ] שינויים בסכמת DB נדרשים? אם כן: מיגרציה Prisma מתוכננת
- [ ] Feature flag / ניסוי A/B (אם רלוונטי)
- [ ] i18n/RTL נלקח בחשבון
- [ ] נגישות (A11y) נלקחה בחשבון
- [ ] שיקולי ביצועים (קוד-ספליטינג, תמונות, מטמון)

## קריטריוני קבלה (Acceptance Criteria)

- [ ] …
- [ ] …
- [ ] …

## מימוש (Implementation)

- [ ] טיפוסי TypeScript מעודכנים ובטוחים
- [ ] קומפוננטות/דפים נוספו/עודכנו
- [ ] לוגיקה בצד שרת / API Routes נוספו/עודכנו
- [ ] מיגרציות Prisma נוצרו והורצו לוקאלית
- [ ] ולידציה, שגיאות, ולוגים מטופלים
- [ ] Rate limiting / הרשאות הוחלו (אם נדרש)

## סביבת הרצה ומשתנים (Envs & Config)

- [ ] משתני סביבה חדשים הוגדרו ב‑`.env.local`
- [ ] עודכנה תיעוד/טבלת ENV בפרויקט
- [ ] סודות הוגדרו ב‑CI / Vercel (Production/Preview)

## בדיקות ואיכות (Testing & QA)

- [ ] בדיקות יחידה (Vitest) כתובות וירוקות
- [ ] בדיקות אינטגרציה / רכיב (RTL) לפי צורך
- [ ] Smoke/E2E לזרימות קריטיות (אם רלוונטי)
- [ ] נתוני בדיקות ו‑fixtures הוכנו
- [ ] כיסוי לוגי למסלולי שגיאה

## אבטחה והרשאות (Security)

- [ ] ולידציית קלט/סניטציה
- [ ] בדיקות הרשאות/AuthZ + AuthN
- [ ] RLS/מדיניות DB (אם נוגע)
- [ ] בדיקת תלויות (`pnpm audit` לפי מדיניות)

## נגישות (A11y)

- [ ] תוויות ARIA/alt תקינות
- [ ] ניווט מקלדת ותמיכה בקורא מסך
- [ ] ניגודיות צבעים עומדת ב‑WCAG AA

## ביצועים (Performance)

- [ ] Lighthouse ≥ 90 במסך/זרימה רלוונטיים
- [ ] LCP ≤ 2.5s, CLS ≤ 0.1 (אם רלוונטי)
- [ ] טעינת תמונות/וידאו אופטימלית

## ריבוי שפות (i18n)

- [ ] מפתחות נוספו ל‑`messages/en.json` ו‑`messages/he.json`
- [ ] פלורליזציה/פורמטים (תאריכים/מספרים) תקינים
- [ ] RTL נבדק בממשק

## תיעוד והעברה (Docs & Handover)

- [ ] README/הערות מפתח עודכנו
- [ ] הערות מיגרציה/שדרוג (אם יש)
- [ ] ADR/החלטות ארכיטקטורה (אופציונלי)

## PR & Code Review

- [ ] תיאור PR ברור + צילומי מסך/וידאו
- [ ] מקושר למשימה/Issue
- [ ] CI ירוק (type, lint, build, tests)
- [ ] ביקורת/ות התקבלו ותוקנו

## פריסה ו‑Rollback (Deployment)

- [ ] פריסת Preview נבדקה (Smoke)
- [ ] פריסת Production נבדקה (Smoke)
- [ ] תכנית Rollback מתועדת

## Definition of Done (חובה)

- [ ] כל הצ׳ק‑ליסטים למעלה הושלמו או הוצדקו חריגים
- [ ] אין שגיאות TypeScript (`pnpm type-check`)
- [ ] Lint נקי (`pnpm lint`)
- [ ] Build עובר (`pnpm build`)
- [ ] בדיקות ירוקות
